!function(n,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):n.appEvents=t()}(this,function(){"use strict";var n=function(n,t){var r={};for(var u in n)r[u]=t(u,n[u]);return r},t=function(r,u){return r.modules=n(r.modules,function(n,r){return t(r,u)}),r.actions=n(r.actions,function(n,t){return function(n,r,e){return t(n,r,e,u)}}),r},r=function(t,r){var u=n(t,function(n,t){return t});for(var e in r)u[e]=[].concat(u[e]||[],r[e]);return u},u=function(t,r){return n(r,function(n,r){return r.map(function(n){return function(r,u,e){return n(r[t],u[t],e)}})})},e=function(n){var t={};for(var o in n.modules||{})t=r(t,u(o,e(n.modules[o])));return t=r(t,n.events)},o=function(n){return function(t,r,u){return function(){return(n[u[0]]||[]).reduce(function(n,e){return e(t,r,u[1])},null)}}};return function(n){return function(r,u){var i=function(){};(r=t(r,function(n,t){return i(n,t)})).actions.__emit=o(e(r));var f=n(r,u);return i=function(n,t){return f.__emit([n,t])},f}}});