!function(n,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):n.appEvents=t()}(this,function(){"use strict";var n=function(n,t){var r={};for(var u in n)r[u]=t(u,n[u]);return r},t=function(n,t){return function(r,u,e){return n(r,u,e,t)}},r=function(u,e){return n(u,function(n,u){return("function"==typeof u?t:r)(u,e)})},u=function(t,e){return t.modules=n(t.modules,function(n,t){return u(t,e)}),t.actions=r(t.actions,e),t},e=function(t,r){var u=n(t,function(n,t){return t});for(var e in r)u[e]=[].concat(u[e]||[],r[e]);return u},o=function(t,r){return n(r,function(n,r){return r.map(function(n){return function(r,u,e){return n(r[t],u[t],e)}})})},i=function(n){var t={};for(var r in n.modules||{})t=e(t,o(r,i(n.modules[r])));return t=e(t,n.events)},f=function(n){return function(t,r,u){return function(){return(n[u[0]]||[]).reduce(function(n,e){return e(t,r,u[1])},null)}}};return function(n){return function(t,r){var e=function(){};(t=u(t,function(n,t){return e(n,t)})).actions.__emit=f(i(t));var o=n(t,r);return e=function(n,t){return o.__emit([n,t])},o}}});